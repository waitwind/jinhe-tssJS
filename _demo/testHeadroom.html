<!DOCTYPE html>
<html lang="UTF-8">
<head>
  	<meta http-equiv="X-UA-Compatible" content="IE=Edge">
  	<meta charset="UTF-8">

    <title>test headroom</title>
    <meta name="viewport" content="width=device-width">

    <link rel="stylesheet" href="../lib/normalize.css">

    <style type="text/css">
 
@media screen and (min-width:40em) {
    body { font-size: 100% }
}
@media screen and (min-width:50em) {
    body { font-size: 108% }
} 

pre,code {
    font-family: Consolas,Monaco,'Andale Mono',monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    color: #f8f8f2;
    background: #1e2328
}
pre {
    overflow: auto;
    padding: 1em;
    margin: 1.5em 0
}
code {
    font-size: .9em
}
@media screen and (min-width:50em) {
    code {
        font-size: .8em
    }
}
 
*,::after,::before {
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box
}

h1,h2,h3,h4,h5,h6,p,ul,ol,pre,fieldset,form,legend {
    margin-top: 0;
    margin-bottom: 16px;
}
 
.container { max-width: 41em; padding: 0 1.5em }
 
.main { margin-top: 1.5em }

.grid {  margin-left: -20px; }
.grid:before,.grid:after { content: " "; display: table }
.grid:after { clear: both }
.grid-item { float: left; padding-left: 20px }

.one-whole { width: 100% }
.one-half  { width: 50% }

.nav { margin-bottom: 0; float: right }
.nav>li { display: inline-block }
.nav>li>a { display: inline-block; padding: 1em; border: 0 }

.btn {
    padding: .5em 1em;
    margin: 0 0 1em 0;
    display: inline-block;
    border-radius: .25em;
    text-align: center;
    color: #6f6f6f;
    border: 1px solid rgba(41,47,54,0.2);
    background-color: #eee;
    text-decoration: none;
}
.btn:hover,.btn:focus,.btn:visited {
    background-color: #f1ebeb;
    text-decoration: none
}
.btn-secondary { color: #fff; background-color: #ff6b6b; display: block }
.btn-secondary:hover,.btn-secondary:focus,.btn-secondary:visited { background-color: #ff6b6b; }
.btn-plain,.btn-plain:hover {
    background: 0;
    border: 0;
}

.brand {
    display: inline-block;
    text-decoration: none;
    padding: 1em 0;
    color: #fff;
}
.brand .forename { font-weight: bold; color: #4ecdc4 }
.brand .surname  { font-weight: normal; color: #fff }

.header { background-color: #292f36 }
.header+a { color: #fff; text-decoration: none; border: 0 }
.header+a:focus { outline: 0; background-color: rgba(78,205,196,0.1) }
.header-fixed {
    position: fixed;
    z-index: 10;
    right: 0;
    left: 0;
    top: 0
}

.articleHeader { background-color: #4ecdc4; padding: 5em 0 2em 0 }
.article-title { text-align: center }

@media screen and (min-width:40em) {
    .article-title { font-size: 112.5% }
}
@media screen and (min-width:50em) {
    .article-title { font-size: 125% }
}

.article-title>h1 { line-height: 1; font-size: 2.5em; color: #fff; display: block }
.article-title>p  { line-height: 1.25; font-size: 1.125em; color: #292f36; margin: 0 }
@media(min-width:30em) {
    .article-title>h1 { font-size: 3.5em }
}
@media screen and (min-width:40em) {
    .article-title>h1 { font-size: 4.5em }
}

/* 淡化字体，并在小屏幕时隐藏 */
.subdued { color: rgba(255,255,255,0.6); text-shadow: none; display: none; }
a.subdued:hover { color: #fff }
@media screen and (min-width:40em) {
    .subdued { display: inline; margin-left: .5em }
} 

.btnToTop { display: none; position: fixed; left: 0; bottom: 0; font-size: .9em; }
@media screen and (min-width:50em) {
    .btnToTop { display: block }
}
@media screen and (min-width:65em) {
    .btnToTop { left: .5em }
}

.iconToTop:before {
    font-size: .9em;
    display: inline-block;
    height: 1em;
    width: 1em;
    line-height: 1;
    content: "\25B2"
}

.slide {
    -webkit-transition: all .5s linear;
    -moz-transition: all .5s linear;
    -o-transition: all .5s linear;
    transition: all .5s linear
}
.slide-reset {
    -webkit-transform: translateY(0);
    -ms-transform: translateY(0);
    transform: translateY(0)
}
.hideTop {
    -webkit-transform: translateY(-4em);
    -ms-transform: translateY(-4em);
    transform: translateY(-4em)
}
.hideBottom {
    -webkit-transform: translateY(4em);
    -ms-transform: translateY(4em);
    transform: translateY(4em)
}
 
    </style>

</head>
<body>

<header id="header" class="header header-fixed">
    <div class="container" >
        <nav>
            <ul class="nav subdued">
                <li>
                    <a class="subdued" href="#">GitHub</a>
                </li>
                <li>
                    <a class="subdued" href="#">@WickyNilliams</a>
                </li>
            </ul>
        </nav>
        
        <a href="http://wicky.nillia.ms/headroom.js/" class="brand">
            <b class="forename">Headroom</b><b class="surname">.js</b>
        </a>
    </div>
</header>

<article>
<header class="articleHeader">
    <div class="container article-title">
        <h1>Headroom.js</h1>
        <p>为页面顶部多留些空间。在不需要页头时将其隐藏。</p>
    </div>
</header>

<div class="container block main" role="main">

<h2>下载</h2>
<div class="downloads" style="margin-bottom:1em">
    <div class="grid">
        <div class="grid-item one-half"><a class="btn btn-secondary btn--full" href="https://raw.github.com/WickyNilliams/headroom.js/master/dist/headroom.js">Development <span class="subdued">(3.7kB)</span></a></div>
        <div class="grid-item one-half"><a class="btn btn-secondary btn--full" href="https://raw.github.com/WickyNilliams/headroom.js/master/dist/headroom.min.js">Production <span class="subdued">(1.7kB)</span></a></div>
    </div>
</div>

<h2>Headroom.js 是什么？</h2>

<p>Headroom.js 是一个轻量级、高性能的JS小工具（不依赖任何工具库！），它能在页面滚动时做出响应。此页面顶部的导航条就是一个鲜活的案例，当页面向下滚动时，导航条消失，当页面向上滚动时，导航条就出现了。</p>

<h3>Headroom.js 有什么用？</h3>

<p>固定页头（导航条）可以方便用户在各个页面之间切换。但是这也会带来些问题&hellip; </p>

<p>大屏幕一般都是宽度大于高度的，也就是说屏幕高度要少一些。固定页头会占用一部分本来可以用于展示内容的区域。小屏幕一般是高度较大，但是别忘了，屏幕本来就小，页头再占用一部分的话，屏幕可用于展示内容的区域当然还是少。</p>

<p>Headroom.js 能帮你把不需要的页面元素在合适的时间展示出来，让用户花更多时间关注你页面上的内容。</p>

<h3>工作原理</h3>

<p>简单来说，headroom.js 只是为需要响应滚动事件的页面元素增加或删除一个CSS class：</p>

<pre class="language-markup"><code>&lt;!-- 初始状态 --&gt;
&lt;header class="headroom"&gt;

&lt;!-- 向下滚动时 --&gt;
&lt;header class="headroom headroom--unpinned"&gt;

&lt;!-- 向上滚动时 --&gt;
&lt;header class="headroom headroom--pinned"&gt;
</code></pre>

<p>通过CSS class的设置，事情变得简单了。所有的控制权就交回到了你的手中，当页面向上或向下滚动时，你就可以通过设置CSS样式来做出自己需要的变化了。</p>

<h2>用法</h2>

<p>使用 headroom.js 是很简单的。它提供了简单的 JS API，另外，还可以作为 jQuery/Zepto 插件使用。</p>

<h3>纯JS调用方式</h3>

<pre class="language-javascript"><code>// 获取页面元素
var myElement = document.querySelector("header");
// 创建 Headroom 对象，将页面元素传递进去
var headroom  = new Headroom(myElement);
// 初始化
headroom.init(); 
</code></pre>

<h3>以 jQuery/Zepto 插件形式调用</h3>

<pre class="language-javascript"><code>// 是不是很简单！
// 注意： init() 默认在插件内部被调用了
$("#header").headroom();
</code></pre>

<p>插件还提供了一个 data-* API ：</p>

<pre class="language-markup"><code>&lt;!-- selects $(&quot;[data-headroom]&quot;) --&gt;
&lt;header data-headroom&gt;
</code></pre>

<p>注意：为了兼容，Zepto 的<a href="https://github.com/madrobby/zepto#zepto-modules" title="https://github.com/madrobby/zepto#zepto-modules">data module</a> 也需要引入。</p>

<h3>参数</h3>

<p>Headroom.js 还能接受一个参数对象，用以改变其行为。你可以看一下 Headroom.js 源码中对 <code>Headroom.options</code> 的定义。其 options 对象的结构如下：</p>

<pre class="language-javascript"><code>{
    // 在元素没有固定之前，垂直方向的偏移量（以px为单位）
    offset : 0,
    // scroll tolerance in px before state changes
    tolerance : 0,
    // 对于每个状态都可以自定义css classes 
    classes : {
        // 当元素初始化后所设置的class
        initial : "headroom",
        // 向上滚动时设置的class
        pinned : "headroom--pinned",
        // 向下滚动时所设置的class
        unpinned : "headroom--unpinned"
    }
}
</code></pre>

    <h2>案例</h2>
    <p>
        在 <a href="playroom/">headroom.js playroom</a> 页面可以看到更多使用案例。你甚至还可以调整Headroom.js 的参数来观察不同的效果。
    </p>

    <h2>License</h2>
    <p>
        Licensed under the <a href="http://www.opensource.org/licenses/mit-license.php">MIT License</a>.
    </p>


    </div>
    <a class="btnToTop btn btn-plain" href="#" id="btnToTop">Top <i class="iconToTop"></i></a>
</article>

<script src="../lib/headroom.js"></script>
<script>
(function() {
    var header = new Headroom(document.querySelector("#header"), {
        tolerance: 5,
        offset : 205,
        classes: {
          initial : "slide",
          pinned  : "slide-reset",
          unpinned: "hideTop"
        }
    });
    header.init();

    var btnToTopHeadroom = new Headroom(document.getElementById("btnToTop"), {
        tolerance : 0,
        offset : 500,
        classes : {
            initial : "slide",
            pinned  : "slide-reset",
            unpinned: "hideBottom"
        }
    });

    btnToTopHeadroom.init();

}());
</script>
 
</body>
</html>